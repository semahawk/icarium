// a comment
.define ROM_BASE_ADDR 0x800000000000
.define HERE #pc
.base #ROM_BASE_ADDR
.define THERE #pc

.include uart

start:
    set r1, 0x00008010 shl 16
    set r2, 0x73
check_if_ready_to_send:
    load r3, r1 off #UART_STAT
    testbit r3, #UART_STAT_TXD_BUSY
    jump.nz #check_if_ready_to_send
send_char:
    store r2, r1 off #UART_DATA
    load r3, r1
    jump #check_if_ready_to_send
exit:
    halt
